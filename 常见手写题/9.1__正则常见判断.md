# 正则常见判断
正则基本知识：见：[正则](../JS/正则/正则.md)

## 是否是电话？

```js
function isPhone(tel) {
    var regx = /^1[3-9]\d{9}$/;
    return regx.test(tel);
}
```

## 是否是邮箱? 
邮箱格式由用户名、@、域名三部分组成：  
* 用户名：可包含字母、数字、下画线、点、加/减号，但不能连续出现两次以上。
* 域名：包含字母、数字和减号，顶级域名以点结尾（如.com、.cn）。 ‌
* @后面 与 .后的域名基本一致（域名多了个.）
```js
function isEmail(email) {
    var regx = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/
    return regx.test(email);
}

```
## 是否是身份证？
可能是：
* 15位数字、18位数字、（17位数字 最后一位可能是数字、x、X）
```js
function isCardNo(number) {
    var regx = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;
    return regx.test(number);
}
```

## 实现千位分隔符
```js
// 保留三位小数
parseToMoney(1234.56); // return '1,234.56'
parseToMoney(123456789); // return '123,456,789'
parseToMoney(1087654.321); // return '1,087,654.321'
```

```js
function parseToMoney(str){
    // 仅仅对位置进行匹配
    let re = /\B(?=(\d{3})+$)/g; 
    return str.replace(re,','); 
}
\B  // 过滤掉前面的 ,
(?=x)    // 匹配位置，后面是 x 的位置。
(\d{3})+$ // 匹配 “3 个数字为一组” 且重复若干次，直到字符串结尾（从右向左每 3 位分组）。
```


## 手机号用-分割，形成3-4-4格式，如：183-7983-6654
```js
let mobile = '18379836654' 
let mobileReg = /(?=(\d{4})+$)/g 

console.log(mobile.replace(mobileReg, '-')) // 183-7983-6654
```
此处刚好凑巧了，手机11位，若是12位 在最前面也会有-，就像上述千位分隔符一样（若位数刚好能整除3、4啥的）


## 实现 trim()：替换首尾空格
```js
String.prototype.trim = function(){
    return this.replace(/^\s+|\s+$/g, '')
}
//或者 
function trim(string){
    return string.replace(/^\s+|\s+$/g, '')
}
```
```js
// 替换所有空格
str.replace(/\s+/g, '')
```

## 解析一个完整的URL	
![URL完整的格式](../Network/icon/url%20路径参数.png)
```js
location:
{
     href: '包含完整的url',
     origin: '包含协议到pathname之前的内容 (协议 + 域名 + 端口(非默认的80、443两种) )',
     protocol: 'url使用的协议，包含末尾的:',
     username: '用户名', // 暂时不支持
     password: '密码',  // 暂时不支持
     host: '完整主机名，包含:和端口',
     hostname: '域名/主机名，不包含端口'
     port: '端口号',
     pathname: '服务器上访问资源的路径/开头',
     search: 'query string，?开头',
     hash: '#开头的fragment identifier'
}
```

如：http://test.com:8080?name=1&password=2#page1

```js
/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/
```
