# 选项式API 与 组合式API

### 一、选项式API
* 基于 “选项” 划分代码，将逻辑分散到data、methods、computed等固定选项中，Vue2、Vue3中均支持。
* 逻辑分散：同一业务逻辑的代码会分散在不同选项中，状态在data，方法在methods，监听在watch，组件复杂时难以追踪。
* 在选项式 API 中，this 是核心，它始终指向当前组件实例，几乎所有操作都依赖 this：
    * 访问 data 中的数据（```this.属性名```）
    * 调用 methods 中的方法（```this.方法名()```）
    * 访问 props（```this.prop名```）
    * 触发自定义事件（```this.$emit('change')```）
    * 调用组件实例的内置方法（```this.$nextTick()```）

<br/>
组件实例内置属性、方法：以 $ 开头，用于区分用户自定义的属性/方法（避免命名冲突）
<br/><br/>

> 组件实例中的内置属性、方法，如下：
> $data  
> $props  
> $el  
> $options  
> $parent/$children：访问父/子组件实例（不推荐频繁使用，会增加耦合度）  
> $root  
> $slots  
> $attrs  
> $refs  
> $watch()  
> $emit()  
> $forceUpdate()  
> $nextTick()  


### 二、组合式API
setup是组合式API的入口，组合式 API 的生命周期函数必须在setup中调用。 

组合式API中没有this，生命周期以"on"开头

特点：
* 同一业务逻辑的代码聚合在一起，适合中大型组件或复杂逻辑。
* TypeScript友好，可自动推导类型，减少类型定义工作量。
* 复用性好：支持通过 “组合函数” 提取复用逻辑。


> 如何用setup函数定义一个组件？   
> 答：`<template>`模块，需在setup 函数中显式定义并返回模版中需要的变量/方法


### 三、
参考：[Vue 两种不同的API中访问props、data、method](./1.0__Vue与React中访问props_data_method.md)

