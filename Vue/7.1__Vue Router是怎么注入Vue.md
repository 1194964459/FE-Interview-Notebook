一、this.$router 和 this.$route 是怎么注入到 Vue 中的？

1. 注入的核心入口：Vue Router 的 install 方法
Vue Router 本质是 Vue 插件，当我们调用 app.use(router) 时，Vue 会自动执行插件的 install 方法，并传入两个关键参数：
app：Vue 应用实例（createApp(App) 生成的实例）；
router：我们创建的路由实例（createRouter(...) 生成的实例）。


```js
// Vue Router 内部 install 逻辑（核心简化版）
export default function install(app, router) {
  // 1. 向 Vue 应用全局注册路由实例（供后续 useRouter() 调用）
  app.provide('router', router);

  // 2. 注入 $router：全局挂载路由实例（工具对象）
  app.config.globalProperties.$router = router;

  // 3. 注入 $route：全局挂载当前路由状态（响应式引用）
  app.config.globalProperties.$route = router.currentRoute;
}
```

Vue 2 与 Vue 3 差异：Vue 2 中是通过 Vue.prototype.$router = router 注入（因为 Vue 2 没有 app.config.globalProperties），