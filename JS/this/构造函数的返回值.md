# 构造函数返回值问题

* js 中的构造函数 可以有返回值，也可以没有返回值。
当构造函数没用return返回值，或者只返回基本数据类型时。new操作符会按照默认规则创建并返回一个新的对象实例。
```js
console.log(new function () { })   // {}
console.log(new function () { return String('foo'); }) // {}，因为String('foo')是个基本数据类型
console.log(new function () { return new String('foo') })  // 返回[String: 'foo']，new String('foo')创建的是对象
console.log(new function () { this.b = 'b'; return String('foo') })   // { b: 'b' }
```

* 如果构造函数显式返回一个对象（包括普通对象、数组、函数等），那么new操作符会返回这个**被显式返回的对象**，而不是按照默认规则创建的对象实例。

```js
// 经典面试题
console.log( 'foo' == new function(){ return String('foo') } )      // false
console.log( 'foo' == new function(){ return new String('foo') } )  // true
```