# 正则相关方法

即使只返回一个匹配项，也是个数组。

正则所有的方法中除了String.prototype.match()中的正则 没有g 标识这种情况，该方法只有匹配到的字符串，没有捕获组、index、groups等字段。

其他函数返回值基本都接近，仅仅是返回全部（二维数组）、只返回一个（一维数组）的区别。


## RegExp.prototype.exec()
捕获组指的是正则中用`()`包裹的部分

正则使用exec()时，有g标志、无g标志，**exec() 每次调用只会返回一个匹配项**（或 null）。 注意：是只返回一个匹配项哦，有没有 g 标志都是只返回一个。两者的核心区别是：能否通过多次调用遍历所有匹配项。
* 有`g`标志的：每次调用exec()时，都会从上次匹配结束的位置开始查找下一个匹配项，会自动更新 lastIndex（当前匹配结束的位置）。
* 无`g`标志的：lastIndex一直是0；多次调用的结果都一样，无法获取后续匹配项。

不管是否使用`g`标志，返回的结果中都是有捕获组的。

返回值：
```
[
  0: 完整匹配的字符串,
  1: 第1个捕获组的内容,
  2: 第2个捕获组的内容,
  ...,
  index: 匹配结果在原始字符串中的起始位置,
  input: 原始字符串,
  groups: 命名捕获组的键值对（若有）
]
```
示例：
```js
const str = "apple, banana, apple";
const reg = /(\w+)/g;
let result;
while ((result = reg.exec(str))!== null) {
    console.log(`完整匹配: ${result[0]}, 捕获组: ${result[1]}, 位置: ${result.index}`); 
    console.log(`当前lastIndex: ${reg.lastIndex}`);
}
```

## RegExp.prototype.test()
使用正则表达式在指定字符串中执行搜索。如果存在匹配，则返回 true, 否则返回 false。


## String.prototype.match()
* `没有g标志`时，返回第一个匹配项及其捕获组等详细信息，`类似于exec() 无g标志`时的情况。格式为：
```js
[
  'apple',
  'apple',
  index: 0,
  input: 'apple, banana, apple',
  groups: undefined
]
```
* 有g标志时，直接返回所有匹配的字符串，但**丢失捕获组**等信息； 格式为：
```js
[ 'apple', 'banana', 'apple' ]
```

exec适合对字符串进行逐个匹配，并对每个匹配结果及其捕获组进行详细处理的场景

## String.prototype.matchAll()
正则表达式必须带有 g 标志，否则会报错！

该方法返回一个包含所有匹配项详细信息（包括捕获组）的迭代器对象。其中每一项的值都是个数组，类似于`match() 不带 g 标志`时返回的结果。


## String.prototype.search()
## String.prototype.replace()
```js
replace(pattern, replacement)
```
replacement 可以是字符串或函数。


## String.prototype.split()