# 滚动相关的各种现实问题

## 一、是否在可视窗口内？
参考：[是否在可视窗口内？](./可视窗口.md)
* 元素距离"文档顶部"的距离 < 屏幕可视窗口高度 + 页面滚动的高度(即：浏览器窗口顶部 到 文档顶部之间的距离)
    > el.offsetTop < window.innerHeight + scrollTop
* [getBoundingClientRect](./getBoundingClientRect.md)
* IntersectionObserver

## 二、图片懒加载
参考：[图片懒加载](../../常见手写题/8.0__图片懒加载.md)

* 浏览器原生 loading="lazy" 属性
* 剩余三种方案依赖于是否在可视窗口内？初始先设定data-src='default.png'，当检测到图片出现在窗口之后再补充src属性

## 三、滚动吸顶
参考：[滚动吸顶](./滚动吸顶.md)
* position：sticky
* IntersectionObserver
* 获取元素到文档顶部的初始距离，监听scroll事件，若`el.offsetTop >= 初始距离`，设置 position: fixed。初始距离有2种获取方案：
    * 基于`el.offsetTop`
    * 基于`getBoundingClientRect() + el.scrollTop`


## 四、是否滚动到底部？
* `scrollTop === scrollHeight - clientHeight`
* IntersectionObserver

## 五、返回顶部
* 将 document.documentElement.scrollTop 设为 0
