# React中间件

中间件不直接管理状态，而是 嵌入到 “状态触发（如 dispatch）→ 状态更新（如 reducer）” 的流程中

了解到了Redux整个工作流程，当action发出之后，reducer立即算出state，整个过程是一个同步的操作​
那么如果需要支持异步操作，或者支持错误处理、日志监控，这个过程就可以用上中间件​
Redux中，中间件就是放在就是在dispatch过程，在分发action进行拦截处理，如下图：


通用工作流程：
```js
组件触发操作（如 dispatch(action)）
  ↓
中间件拦截（执行自定义逻辑：日志打印、存储同步等）
  ↓
状态更新（reducer 计算新状态）
  ↓
中间件后置处理（如同步存储到本地、打印更新后状态）
  ↓
组件重渲染（消费新状态）
```


## 常见中间件
选择中间件时，需根据项目复杂度和团队技术栈决定：

* 小型项目/快速迭代：优先用 redux-thunk + redux-logger；
* 复杂异步流程：用 redux-saga 或 redux-observable；
* 状态持久化：必选 redux-persist；
* 减少样板代码：用 redux-actions。